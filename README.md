# 无人机库选址 - 深度强化学习项目

本项目使用深度强化学习（PPO算法）优化无人机库的选址，以实现对城市POI点和区域的高效覆盖。

## 项目概述

- **目标**：在富阳区选择8个最优的无人机库位置，使得无人机可以覆盖尽可能多的POI点和区域
- **约束**：
  - 每个无人机库的覆盖半径为8km
  - 需要避免无人机库之间的覆盖区域重叠
  - 无人机库必须位于富阳区行政边界内

## 安装依赖

```bash
pip install -r requirements.txt
```

## 项目结构

```
├── configs.py            # 项目配置文件
├── env/                  # 环境模块
│   ├── __init__.py
│   └── drone_env.py      # 无人机环境实现
├── reward/               # 奖励模块
│   ├── __init__.py
│   └── reward_calculator.py  # 奖励计算器
├── models/               # 模型模块
│   ├── __init__.py
│   ├── networks.py       # 神经网络定义
│   ├── ppo.py            # PPO算法实现
│   └── memory.py         # 经验回放缓冲区
├── train.py              # 训练脚本
├── eval.py               # 评估脚本
├── view.py               # 可视化模块
├── data/                 # 数据目录
│   ├── poi/              # POI数据
│   └── fuyang_json/      # 富阳区边界数据
├── result/               # 结果目录
│   ├── models/           # 保存的模型
│   └── visuals/          # 可视化结果
├── requirements.txt      # 依赖包列表
└── README.md             # 项目说明
```

## 使用方法

### 训练模型

```bash
python train.py
```

训练过程中，将在`result/models/`目录下保存模型，在`result/visuals/`目录下保存可视化结果。

### 评估模型

```bash
python eval.py --model result/models/best_model.pth --episodes 10 --render
```

参数说明：
- `--model`：模型路径
- `--episodes`：评估回合数
- `--render`：是否生成可视化结果

### 可视化测试

```bash
python view.py
```

这将测试可视化模块，生成一个示例图像。

## 实现细节

### 环境设计

- **状态空间**：8个无人机库的坐标（16维）
- **动作空间**：更新后的8个无人机库坐标（16维）
- **奖励函数**：基于POI覆盖率、区域覆盖率和覆盖重叠度计算

### 算法实现

- 使用PPO（近端策略优化）算法
- 包含Actor-Critic网络结构
- 支持GPU加速训练
- 使用GAE（广义优势估计）计算优势函数

### 训练流程

1. 初始化环境和PPO代理
2. 随机选择8个点位作为无人机库初始位置
3. 迭代训练，优化无人机库位置，最大化POI覆盖率和区域覆盖率
4. 训练过程中避免无人机库之间的覆盖区域重叠
5. 定期保存模型和可视化结果

## 算法分析

PPO算法的主要特点：

- **稳定性**：通过限制策略更新幅度，避免大幅度更新导致的不稳定
- **样本效率**：可以多次使用相同的样本进行更新，提高样本利用率
- **性能**：在连续动作空间问题上表现良好 